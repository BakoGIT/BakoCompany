<header class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50">
  <div class="container mx-auto px-4 flex items-center justify-between lg:justify-start py-3">
    <!-- Logo -->
    <div class="flex items-center flex-shrink-0 order-2 lg:order-none">
      <a href="index.html" class="flex items-center">
        <img
          src="Assets/logo.jpg"
          alt="Bako Logo"
          class="h-12 rounded hero-gradient shadow"
        />
        <div class="ml-2 flex flex-col">
          <span class="text-2xl font-extrabold text-black tracking-wide">BAKO</span>
          <div class="text-xs text-yellow-700" data-i18n="Best Automotive Kinetics Oil & Lubricants">
            ìµœê³ ì˜ ìë™ì°¨ ìš´ë™ ì—ë„ˆì§€ ì˜¤ì¼ ë° ìœ¤í™œìœ 
          </div>
        </div>
      </a>
    </div>

    <!-- Desktop Navigation -->
    <nav class="hidden lg:flex space-x-8 flex-1 justify-center">
      <a href="index.html" class="nav-link text-black font-semibold hover:text-yellow-700 transition-colors duration-200" data-i18n="HOME">í™ˆ</a>
      <a href="products.html" class="nav-link text-black font-semibold hover:text-yellow-700 transition" data-i18n="PRODUCTS">ì œí’ˆ</a>
      <a href="Certificates.html" class="nav-link text-black font-semibold hover:text-yellow-700 transition" data-i18n="Certificates">ì¸ì¦ì„œ</a>
      <a href="contact.html" class="nav-link text-black font-semibold hover:text-yellow-700 transition" data-i18n="Contact Us">ë¬¸ì˜í•˜ê¸°</a>
      <a href="about.html" class="nav-link text-black font-semibold hover:text-yellow-700 transition" data-i18n="ABOUT">íšŒì‚¬ì†Œê°œ</a>
      <a href="/Assets/Home/BAKO.pdf" class="nav-link text-black font-semibold hover:text-yellow-700 transition" data-i18n="Catalog">ëª©ë¡</a>
    </nav>

    <!-- ğŸŒ Language Selector -->
<div class="language-selector relative flex flex-shrink-0 order-3 lg:order-none">
  <button id="open-lang-modal" class="flex items-center py-2 rounded-md">
    <i class="fas fa-globe text-black hover:text-yellow-700"></i>
    <span class="hidden lg:inline ml-1 transition hover:text-yellow-700 text-black" data-i18n="Language">
      Language
    </span>
  </button>
</div>

<!-- ğŸŒ Language Modal -->
<div
  id="lang-modal"
  class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden"
>
  <div class="bg-white rounded-lg shadow-lg p-8 w-80 relative">
    <button
      id="close-lang-modal"
      class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl"
    >
      &times;
    </button>
    <h2 class="text-xl font-bold mb-4 text-yellow-700" data-i18n="Select Language">
      Select Language
    </h2>
    <div class="flex flex-col gap-4">
      <button class="lang-modal-btn bg-gray-100 hover:bg-gray-200 font-semibold py-2 rounded text-black" data-lang="en">
        English
      </button>
      <button class="lang-modal-btn bg-gray-100 hover:bg-gray-200 font-semibold py-2 rounded text-black" data-lang="ko">
        í•œêµ­ì–´
      </button>
      <button class="lang-modal-btn bg-gray-100 hover:bg-gray-200 font-semibold py-2 rounded text-black" data-lang="tr">
        TÃ¼rkÃ§e
      </button>
      <button class="lang-modal-btn bg-gray-100 hover:bg-gray-200 font-semibold py-2 rounded text-black" data-lang="fr">
        FranÃ§ais
      </button>
      <button class="lang-modal-btn bg-gray-100 hover:bg-gray-200 font-semibold py-2 rounded text-black" data-lang="zh">
        ä¸­æ–‡
      </button>
    </div>
  </div>
</div>

<!-- ğŸ’¬ Language Switcher Script -->
<script>
  // --- Modal open/close ---
  const openLangModal = document.getElementById("open-lang-modal");
  const closeLangModal = document.getElementById("close-lang-modal");
  const langModal = document.getElementById("lang-modal");

  openLangModal.addEventListener("click", () => langModal.classList.remove("hidden"));
  closeLangModal.addEventListener("click", () => langModal.classList.add("hidden"));
  langModal.addEventListener("click", (e) => {
    if (e.target === langModal) langModal.classList.add("hidden");
  });

  // --- Load saved or default language ---
  document.addEventListener("DOMContentLoaded", () => {
    let savedLang = localStorage.getItem("selectedLanguage");

    // âœ… If it's the user's first visit, set default to Korean
    if (!savedLang) {
      savedLang = "ko";
      localStorage.setItem("selectedLanguage", savedLang);
    }

    applyLanguage(savedLang);
  });

  // --- Apply language translations ---
  function applyLanguage(lang) {
    fetch(`lang/${lang}.json`)
      .then((response) => response.json())
      .then((translations) => {
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (translations[key]) el.textContent = translations[key];
        });
      })
      .catch((error) => console.error("Translation load error:", error));
  }

  // --- When user selects a language ---
  document.querySelectorAll(".lang-modal-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const selectedLang = btn.getAttribute("data-lang");
      localStorage.setItem("selectedLanguage", selectedLang); // save new language
      applyLanguage(selectedLang); // apply immediately
      langModal.classList.add("hidden"); // close modal
    });
  });
</script>


    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="lg:hidden text-black focus:outline-none p-2 rounded hover:bg-blue-50 transition order-1 lg:order-none"
      aria-label="Open menu"
    >
      <i class="fas fa-bars text-2xl text-yellow-700"></i>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden lg:hidden bg-white border-t border-blue-200 transform origin-top transition-all duration-300"
  >
    <div class="container mx-auto px-4 py-4 flex flex-col gap-2">
      <div>
        <a href="index.html" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="HOME">í™ˆ</a>
      </div>
      <div>
        <a href="products.html" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="PRODUCTS">ì œí’ˆ</a>
      </div>
      <div>
        <a href="Certificates.html" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="Certificates">ì¸ì¦ì„œ</a>
      </div>
      <div>
        <a href="about.html" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="ABOUT">íšŒì‚¬ì†Œê°œ</a>
      </div>
      <div>
        <a href="contact.html" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="Contact Us">ë¬¸ì˜í•˜ê¸°</a>
      </div>
      <div>
        <a href="/Assets/Home/BAKO.pdf" class="font-bold text-black hover:text-yellow-700 transition" data-i18n="Catalog">ëª©ë¡</a>
      </div>
    </div>
  </div>
</header>
